{"ast":null,"code":"var _jsxFileName = \"/Users/lambda_school_loaner_277/Desktop/coding/DevDesk-Front-End/dev/src/components/student/StudentTicketCard.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport { useForm } from \"react-hook-form\";\n\nconst StudentTicketCard = ({\n  ticket,\n  setTickets,\n  tickets\n}) => {\n  const [edit, toggleEdit] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  const onSubmit = data => editTicket(ticket.id, data);\n\n  console.log(errors);\n\n  const editTicket = (id, ticket) => {\n    axiosWithAuth().put(`/api/tickets/${id}`, ticket).then(res => {\n      console.log(\"Ticket Editted\");\n      toggleEdit(!edit);\n    }).catch(err => {\n      console.log(err, \"Failed to edit Ticket\");\n    });\n  };\n\n  const deleteTicket = id => {\n    axiosWithAuth().delete(`/api/tickets/${id}`).then(res => {\n      console.log(\"Ticket Deleted\");\n      setTickets(tickets.filter(ticket => ticket.id !== id));\n    }).catch(err => {\n      console.log(err, \"Failed to delete Student\");\n    });\n  };\n\n  return edit === false ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, ticket.title, \" \", ticket.description, \" \", ticket.tried, \" \", ticket.category), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deleteTicket(ticket.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => toggleEdit(!edit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Edit\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Title\",\n    name: \"Title\",\n    ref: register({\n      required: true,\n      min: 2,\n      maxLength: 80\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"Description\",\n    placeholder: \"Description\",\n    ref: register({\n      required: true,\n      max: 2,\n      maxLength: 300\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Tried\",\n    name: \"Tried\",\n    ref: register({\n      required: true,\n      min: 2,\n      maxLength: 128\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    name: \"Category\",\n    ref: register({\n      required: true,\n      min: 2,\n      maxLength: 128\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => toggleEdit(!edit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Cancel\"));\n};\n\nexport default StudentTicketCard;","map":{"version":3,"sources":["/Users/lambda_school_loaner_277/Desktop/coding/DevDesk-Front-End/dev/src/components/student/StudentTicketCard.js"],"names":["React","useState","axiosWithAuth","useForm","StudentTicketCard","ticket","setTickets","tickets","edit","toggleEdit","register","handleSubmit","errors","onSubmit","data","editTicket","id","console","log","put","then","res","catch","err","deleteTicket","delete","filter","title","description","tried","category","required","min","maxLength","max"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport { useForm } from \"react-hook-form\";\n\nconst StudentTicketCard = ({ ticket, setTickets, tickets }) => {\n  const [edit, toggleEdit] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n  const onSubmit = (data) => editTicket(ticket.id, data);\n  console.log(errors);\n\n  const editTicket = (id, ticket) => {\n    axiosWithAuth()\n      .put(`/api/tickets/${id}`, ticket)\n      .then((res) => {\n        console.log(\"Ticket Editted\");\n        toggleEdit(!edit);\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to edit Ticket\");\n      });\n  };\n\n  const deleteTicket = (id) => {\n    axiosWithAuth()\n      .delete(`/api/tickets/${id}`)\n      .then((res) => {\n        console.log(\"Ticket Deleted\");\n        setTickets(tickets.filter((ticket) => ticket.id !== id));\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to delete Student\");\n      });\n  };\n\n  return edit === false ? (\n    <div>\n      <h2>\n        {ticket.title} {ticket.description} {ticket.tried} {ticket.category}\n      </h2>\n      <button onClick={() => deleteTicket(ticket.id)}>Delete</button>\n      <button onClick={() => toggleEdit(!edit)}>Edit</button>\n    </div>\n  ) : (\n    <div>\n      <form onSubmit={handleSubmit(null)}>\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          name=\"Title\"\n          ref={register({ required: true, min: 2, maxLength: 80 })}\n        />\n        <textarea\n          name=\"Description\"\n          placeholder=\"Description\"\n          ref={register({ required: true, max: 2, maxLength: 300 })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Tried\"\n          name=\"Tried\"\n          ref={register({\n            required: true,\n            min: 2,\n            maxLength: 128,\n          })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Category\"\n          name=\"Category\"\n          ref={register({ required: true, min: 2, maxLength: 128 })}\n        />\n\n        <input type=\"submit\" />\n      </form>\n\n      <button onClick={() => toggleEdit(!edit)}>Cancel</button>\n    </div>\n  );\n};\n\nexport default StudentTicketCard;\n"]},"metadata":{},"sourceType":"module"}