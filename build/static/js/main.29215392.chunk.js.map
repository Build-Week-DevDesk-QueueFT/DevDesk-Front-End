{"version":3,"sources":["utils/axiosWithAuth.js","contexts/AppContext.js","components/Login.js","components/Register.js","components/Header.js","utils/PrivateRouteOne.js","components/student/StudentTicketCard.js","components/staff/TicketCard.js","components/student/Student.js","components/StudentDashBoard.js","components/staff/StaffTicketCard.js","components/staff/Staff.js","components/StaffDashboard.js","App.js","serviceWorker.js","index.js"],"names":["axiosWithAuth","token","JSON","parse","localStorage","getItem","console","log","axios","create","headers","Authorization","baseURL","UserContext","createContext","StaffContext","AppProvider","props","useState","user","setUser","staff","setStaff","Provider","value","children","LoginBox","styled","div","InputField","Button","button","Login","match","useHistory","useContext","useForm","register","handleSubmit","errors","className","onSubmit","data","credentials","post","then","res","setItem","stringify","id","is_helper","push","catch","err","postLogin","type","placeholder","name","ref","required","max","min","maxLength","RegisterBox","RegisterInputField","Register","style","color","re","Header","Links","header","to","textDecoration","PrivateRouteOne","Component","component","rest","render","StudentTicketBox","StudentInputField","StudentTicketCard","ticket","setTickets","tickets","edit","toggleEdit","editTicket","updatedTicket","put","map","title","description","tried","category","onClick","delete","filter","TicketsCard","StudentTicketForm","StudentInput","Student","allTickets","setAllTickets","useEffect","userId","get","Number","error","refreshTicket","newTicket","index","StudentDashboard","StaffTicketCard","assigned_to","assignTicket","Staff","userTickets","setUserTickets","key","StaffDashboard","Title","App","exact","path","StudentDashBoard","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.29215392.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const axiosWithAuth = () => {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n\n  console.log(token);\n  return axios.create({\n    headers: {\n      Authorization: token,\n    },\n    baseURL: \"https://desk-queue.herokuapp.com\",\n  });\n};\n","import React, { useState, createContext } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nexport const UserContext = createContext();\nexport const StaffContext = createContext();\n\nexport const AppProvider = (props) => {\n  const [user, setUser] = useState([]);\n  const [staff, setStaff] = useState([]);\n\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      <StaffContext.Provider value={{ staff, setStaff }}>\n        {props.children}\n      </StaffContext.Provider>\n    </UserContext.Provider>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../contexts/AppContext\";\nimport styled from \"styled-components\";\n\nconst LoginBox = styled.div`\n  margin: 30px 40px 0px 380px;\n  justify-content: center;\n  background: #2d3142;\n  color: black;\n  width: 40%;\n  height: 50vh;\n  border: 4px solid #ef8354;\n  border-radius: 25%;\n  color: white;\n`;\nconst InputField = styled.div`\n  flex-direction: column;\n  justify-content: space-betwen;\n  padding: 10px;\n  margin: 10% auto 10% auto;\n  width: 40%;\n`;\nconst Button = styled.button`\n  background: #ef8354;\n  height: 30px;\n  width: 150px;\n  radius: 20%;\n`;\n\nconst postLogin = (credentials, match, setUser) => {\n  axios\n    .post(\"https://desk-queue.herokuapp.com/api/auth/login\", credentials)\n    .then((res) => {\n      localStorage.setItem(\"token\", JSON.stringify(res.data.token)); //This should only be an axios request\n      localStorage.setItem(\"id\", res.data.id);\n      console.log(credentials);\n      setUser(res.data);\n      if (res.data.is_helper) {\n        match.push(\"/StaffDashboard\");\n      } else {\n        match.push(\"/StudentDashboard\");\n      }\n    })\n    .catch((err) => {\n      console.log(err, \"Failed to login\");\n    });\n};\n\nconst Login = () => {\n  const match = useHistory();\n  const { setUser } = useContext(UserContext);\n  const { register, handleSubmit, errors } = useForm();\n  const onSubmit = (data) => postLogin(data, match, setUser);\n  console.log(errors);\n\n  return (\n    <LoginBox>\n      <h1>Login</h1>\n      <form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\n        <InputField>\n          <input\n            className=\"forms\"\n            type=\"text\"\n            placeholder=\"User Name\"\n            name=\"username\"\n            ref={register({\n              required: true,\n              max: 15,\n              min: 2,\n              maxLength: 100,\n            })}\n          />\n          <input\n            className=\"forms\"\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            ref={register({ required: true, max: 20, min: 2 })}\n          />\n\n          <Button type=\"submit\">Login</Button>\n          <p></p>\n        </InputField>\n      </form>\n    </LoginBox>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport styled from \"styled-components\";\n\nconst RegisterBox = styled.div`\n  margin: 30px 40px 0px 380px;\n  justify-content: center;\n  background: #2d3142;\n  color: black;\n  width: 40%;\n  height: 50vh;\n  border: 4px solid #ef8354;\n  border-radius: 25%;\n  color: white;\n`;\nconst RegisterInputField = styled.div`\n  flex-direction: column;\n  justify-content: space-betwen;\n  padding: 10px;\n  margin: 10% auto 10% auto;\n  width: 40%;\n`;\nconst Button = styled.button`\n  background: #ef8354;\n  height: 30px;\n  width: 150px;\n  radius: 20%;\n  margin-top: 4% 0;\n`;\nconst postRegister = (credentials) => {\n  axiosWithAuth()\n    .post(\"/api/auth/register\", credentials)\n    .then((res) => {\n      console.log(res.data, \"Registry success\");\n    })\n    .catch((err) => {\n      console.log(err, \"failed to fetch\");\n    });\n};\n\nexport default function Register() {\n  const { register, handleSubmit, errors } = useForm();\n  const onSubmit = (data) => postRegister(data);\n  console.log(errors);\n\n  return (\n    <RegisterBox>\n      <div className=\"background\">\n        <h1 style={{ color: \"white\" }}>Register</h1>\n        <form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\n          <RegisterInputField>\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"User Name\"\n              name=\"username\"\n              ref={register({\n                required: true,\n                max: 15,\n                min: 2,\n                maxLength: 100,\n              })}\n            />\n            <br />\n            <input\n              className=\"forms\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              ref={register({ required: true, max: 20, min: 2 })}\n            />\n            <br />\n            <input\n              className=\"forms\"\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              re\n              ref={register({ max: 25, min: 5 })}\n            />\n            <br />\n            <select name=\"Make Selection\" ref={register({ required: true })}>\n              <option value={false}>Student</option>\n              <option value={true}>Staff</option>\n            </select>\n\n            <Button className=\"forms\" type=\"submit\">\n              Sign up!\n            </Button>\n          </RegisterInputField>\n        </form>\n      </div>\n    </RegisterBox>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst Header = styled.div`\n  background: gray;\n`;\nconst Links = styled.div`\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-evenly;\n  font-size: 1.5rem;\n  text-decoration: none;\n`;\n\nexport default function header() {\n  return (\n    <Header>\n      <header>\n        <nav>\n          <Links>\n            <Link\n              to={\"StudentDashboard\"}\n              style={{ textDecoration: \"none\", color: \"#ef8354\" }}\n            >\n              Student Dashboard\n            </Link>\n            <Link\n              to={\"StaffDashboard\"}\n              style={{ textDecoration: \"none\", color: \"#ef8354\" }}\n              // style={{ color: \"#ef8354\" }}\n            >\n              Staff Dashboard\n            </Link>\n            <Link\n              to={\"/Register\"}\n              style={{ textDecoration: \"none\", color: \"#ef8354\" }}\n              // style={{ color: \"#ef8354\" }}\n            >\n              SignUp\n            </Link>\n            <Link\n              to={\"/\"}\n              style={{ textDecoration: \"none\", color: \"#ef8354\" }}\n              // style={{ color: \"#ef8354\" }}\n            >\n              Login\n            </Link>\n          </Links>\n        </nav>\n      </header>\n    </Header>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRouteOne = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (localStorage.getItem(\"token\")) {\n          return <Component {...props} />;\n        } else {\n          return <Redirect to=\"/\" />;\n        }\n      }}\n    />\n  );\n};\nexport default PrivateRouteOne;\n","import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport { useForm } from \"react-hook-form\";\nimport styled from \"styled-components\";\n\nconst StudentTicketBox = styled.div`\n  margin: 30px 40px 0px 380px;\n  justify-content: center;\n  background: #2d3142;\n  color: black;\n  width: 40%;\n  height: 50vh;\n  border: 4px solid #ef8354;\n  border-radius: 25%;\n  color: white;\n`;\nconst StudentInputField = styled.div`\n  flex-direction: column;\n  justify-content: space-betwen;\n  padding: 10px;\n  margin: 10% auto 10% auto;\n  width: 40%;\n`;\nconst Button = styled.button`\n  background: #ef8354;\n  height: 30px;\n  width: 150px;\n  radius: 20%;\n`;\n\nconst StudentTicketCard = ({ ticket, setTickets, tickets }) => {\n  const [edit, toggleEdit] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n  const onSubmit = (data) => editTicket(ticket.id, data);\n  console.log(errors);\n\n  const editTicket = (id, updatedTicket) => {\n    axiosWithAuth()\n      .put(`/api/tickets/${id}`, updatedTicket)\n      .then((res) => {\n        console.log(res.data);\n        setTickets(\n          tickets.map((ticket) => {\n            if (ticket.id === id) return updatedTicket;\n            return ticket;\n          })\n        );\n        toggleEdit(!edit);\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to edit Ticket\");\n      });\n  };\n\n  const deleteTicket = (id) => {\n    axiosWithAuth()\n      .delete(`/api/tickets/${id}`)\n      .then((res) => {\n        console.log(res);\n        setTickets(tickets.filter((ticket) => ticket.id !== id));\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to delete ticket\");\n      });\n  };\n\n  return edit === false ? (\n    <div>\n      <h2>\n        {ticket.title} {ticket.description} {ticket.tried} {ticket.category}\n      </h2>\n      <button onClick={() => deleteTicket(ticket.id)}>Delete</button>\n      <button onClick={() => toggleEdit(!edit)}>Edit</button>\n    </div>\n  ) : (\n    <div>\n      <StudentTicketBox>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <StudentInputField>\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"Title\"\n              name=\"title\"\n              ref={register({ required: true, min: 2, maxLength: 80 })}\n            />\n            <textarea\n              name=\"description\"\n              placeholder=\"Description\"\n              ref={register({ required: true, max: 2, maxLength: 300 })}\n            />\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"Tried\"\n              name=\"tried\"\n              ref={register({\n                required: true,\n                min: 2,\n                maxLength: 128,\n              })}\n            />\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"Category\"\n              name=\"category\"\n              ref={register({ required: true, min: 2, maxLength: 128 })}\n            />\n\n            <input className=\"forms\" type=\"submit\" />\n          </StudentInputField>\n        </form>\n\n        <button onClick={() => toggleEdit(!edit)}>Cancel</button>\n      </StudentTicketBox>\n    </div>\n  );\n};\n\nexport default StudentTicketCard;\n","import React from \"react\";\n\nconst TicketsCard = (props) => {\n  return (\n    <div>\n      <h3>{props.title}</h3>\n      <p>{props.description}</p>\n      <h4>{props.category}</h4>\n      <p>{props.tried}</p>\n    </div>\n  );\n};\nexport default TicketsCard;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport StudentTicketCard from \"../student/StudentTicketCard\";\nimport { UserContext } from \"../../contexts/AppContext\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport TicketsCard from \"../staff/TicketCard\";\nimport styled from \"styled-components\";\n\nconst StudentTicketForm = styled.div`\n  margin: 30px 40px 0px 380px;\n  justify-content: center;\n  background: #2d3142;\n  color: black;\n  width: 40%;\n  height: 50vh;\n  border: 4px solid #ef8354;\n  border-radius: 25%;\n  color: white;\n`;\nconst StudentInput = styled.div`\n  flex-direction: column;\n  justify-content: space-betwen;\n  padding: 10px;\n  margin: 10% auto 10% auto;\n  width: 40%;\n`;\nconst Button = styled.button`\n  background: #ef8354;\n  height: 30px;\n  width: 150px;\n  radius: 20%;\n`;\n\nconst Student = (props) => {\n  const [tickets, setTickets] = useState([]);\n  const [allTickets, setAllTickets] = useState([]);\n\n  const postNewTicket = (newTicket) => {\n    axiosWithAuth()\n      .post(\"/api/tickets\", newTicket)\n      .then((res) => {\n        console.log(res.data);\n        setAllTickets(res.data);\n        setTickets([...tickets, newTicket]);\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to post new ticket\");\n      });\n  };\n  const refreshTicket = (props) => {\n    const userId = localStorage.getItem(\"id\");\n    axiosWithAuth()\n      .get(`/api/users/${Number(userId)}/tickets`)\n      .then((res) => {\n        console.log(res);\n        setTickets(res.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  const refreshAllTicket = (props) => {\n    axiosWithAuth()\n      .get(\"/api/tickets\")\n      .then((res) => {\n        console.log(res);\n        setAllTickets(res.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  useEffect(() => {\n    refreshTicket();\n    refreshAllTicket();\n  }, []);\n\n  const submitTicket = (data) => {\n    console.log(data);\n    postNewTicket(data);\n  };\n\n  const { register, handleSubmit, errors } = useForm();\n  console.log(errors);\n\n  return (\n    <>\n      <StudentTicketForm>\n        <form onSubmit={handleSubmit(submitTicket)}>\n          <StudentInput>\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"Title\"\n              name=\"title\"\n              ref={register({ required: true, min: 2, maxLength: 80 })}\n            />\n            <textarea\n              name=\"description\"\n              placeholder=\"Description\"\n              ref={register({ required: true, max: 2, maxLength: 300 })}\n            />\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"Tried\"\n              name=\"tried\"\n              ref={register({\n                required: true,\n                min: 2,\n                maxLength: 128,\n              })}\n            />\n            <input\n              className=\"forms\"\n              type=\"text\"\n              placeholder=\"Category\"\n              name=\"category\"\n              ref={register({ required: true, min: 2, maxLength: 128 })}\n            />\n\n            <Button className=\"forms\" type=\"submit\">\n              Submit\n            </Button>\n          </StudentInput>\n        </form>\n      </StudentTicketForm>\n\n      <div>\n        <div className=\"studentList\">\n          {allTickets.map((ticket) => {\n            return <TicketsCard {...ticket} />;\n          })}\n          <h3>My Tickets</h3>\n          {tickets.map((ticket, index) => (\n            <StudentTicketCard\n              ticket={ticket}\n              setTickets={setTickets}\n              tickets={tickets}\n            />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Student;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nimport { useForm } from \"react-hook-form\";\nimport Student from \"./student/Student\";\n\nconst StudentDashboard = () => {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  const secret = \"keepitsecret,keepitsafe!\";\n  let user;\n\n  return (\n    <div>\n      {/* <h1>Welcome, {user.username}.</h1> */}\n      <Student />\n    </div>\n  );\n};\n\nexport default StudentDashboard;\n","import React from \"react\";\n\nconst StaffTicketCard = (props) => {\n  return (\n    <div>\n      <h3>{props.ticket.title}</h3>\n      <p>{props.ticket.description}</p>\n      <h4>{props.ticket.category}</h4>\n      <p>{props.ticket.tried}</p>\n      {!props.ticket.assigned_to ? (\n        <button onClick={() => props.assignTicket(props.ticket)}>Assign</button>\n      ) : (\n        <h2>Assigned!</h2>\n      )}\n    </div>\n  );\n};\nexport default StaffTicketCard;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport StaffTicketCard from \"./StaffTicketCard\";\nimport { UserContext } from \"../../contexts/AppContext\";\n\nconst Staff = () => {\n  const [tickets, setTickets] = useState([]);\n  const [userTickets, setUserTickets] = useState([]);\n  const { user } = useContext(UserContext);\n  useEffect(() => {\n    axiosWithAuth()\n      .get(\"/api/tickets\")\n      .then((res) => {\n        console.log(res.data);\n        setTickets(res.data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  useEffect(() => {\n    axiosWithAuth()\n      .get(`/api/users/${user.id}/tickets`)\n      .then((res) => {\n        console.log(res.data);\n        setUserTickets(res.data);\n      })\n      .catch((err) => console.log(err));\n  }, [user]);\n  const assignTicket = (ticket) => {\n    axiosWithAuth()\n      .put(`/api/tickets/${ticket.id}`, { ...ticket, assigned_to: user.id })\n      .then((res) => {\n        console.log(res.data);\n        setUserTickets([...userTickets, res.data[0]]);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div>\n      {tickets.map((ticket) => {\n        return (\n          <StaffTicketCard\n            key={ticket.id}\n            ticket={ticket}\n            assignTicket={assignTicket}\n          />\n        );\n      })}\n      <h2>Assigned Tickets</h2>\n      {userTickets.map((ticket) => {\n        return <StaffTicketCard key={ticket.id} ticket={ticket} />;\n      })}\n    </div>\n  );\n};\n\nexport default Staff;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport Staff from \"./staff/Staff\";\n\nimport { useForm } from \"react-hook-form\";\n\nconst StaffDashboard = () => {\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  const secret = \"keepitsecret,keepitsafe!\";\n  let user;\n\n  return (\n    <div>\n      {/* <h1>Welcome, {user.username}.</h1> */}\n      <Staff />\n    </div>\n  );\n};\n\nexport default StaffDashboard;\n","import React, { useContext, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\n\nimport Header from \"./components/Header\";\n\nimport PrivateRouteOne from \"./utils/PrivateRouteOne\";\nimport { UserContext } from \"./contexts/AppContext\";\nimport \"./App.css\";\nimport StudentDashBoard from \"./components/StudentDashBoard\";\nimport StaffDashboard from \"./components/StaffDashboard\";\nimport { axiosWithAuth } from \"./utils/axiosWithAuth\";\nimport styled from \"styled-components\";\n\nconst Title = styled.div`\n  font-size: 3rem;\n  margin: 5% 0;\n`;\n\nfunction App() {\n  const { setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    const userId = localStorage.getItem(\"id\");\n\n    if (userId) {\n      axiosWithAuth()\n        .get(`/api/users/${Number(userId)}`)\n        .then((res) => {\n          setUser(res.data);\n        })\n        .catch((err) => console.log(err));\n    }\n  }, []);\n  return (\n    <div className=\"App\">\n      <Header />\n      <Title style={{ color: \"#4F5D75\" }}>Devdesk</Title>\n      <Route exact path=\"/\" component={Login} />\n      <Route path=\"/Register\" component={Register} />\n      <PrivateRouteOne path=\"/StaffDashboard\" component={StaffDashboard} />\n      <PrivateRouteOne path=\"/StudentDashBoard\" component={StudentDashBoard} />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { AppProvider } from \"./contexts/AppContext\";\n\nReactDOM.render(\n  <Router>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}