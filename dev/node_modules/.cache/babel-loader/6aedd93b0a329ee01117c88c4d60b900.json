{"ast":null,"code":"var _jsxFileName = \"/Users/lambda_school_loaner_277/Desktop/coding/DevDesk-Front-End/dev/src/components/student/StudentTicketCard.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport { useForm } from \"react-hook-form\";\n\nconst StudentTicketCard = ({\n  ticket,\n  setTickets,\n  tickets\n}) => {\n  const [edit, toggleEdit] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  const onSubmit = data => editTicket(ticket.id, data);\n\n  console.log(errors);\n\n  const editTicket = (id, updatedTicket) => {\n    axiosWithAuth().put(`/api/tickets/${id}`, updatedTicket).then(res => {\n      console.log(\"Ticket Editted\");\n      setTickets(tickets.map(ticket => {\n        if (ticket.id === id) return updatedTicket;\n        return ticket;\n      }));\n      toggleEdit(!edit);\n    }).catch(err => {\n      console.log(err, \"Failed to edit Ticket\");\n    });\n  };\n\n  const deleteTicket = id => {\n    axiosWithAuth().delete(`/api/tickets/${id}`).then(res => {\n      console.log(\"Ticket Deleted\");\n      setTickets(tickets.filter(ticket => ticket.id !== id));\n    }).catch(err => {\n      console.log(err, \"Failed to delete Student\");\n    });\n  };\n\n  return edit === false ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, ticket.title, \" \", ticket.description, \" \", ticket.tried, \" \", ticket.category), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deleteTicket(ticket.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => toggleEdit(!edit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Edit\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Title\",\n    name: \"title\",\n    ref: register({\n      required: true,\n      min: 2,\n      maxLength: 80\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"description\",\n    placeholder: \"Description\",\n    ref: register({\n      required: true,\n      max: 2,\n      maxLength: 300\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Tried\",\n    name: \"tried\",\n    ref: register({\n      required: true,\n      min: 2,\n      maxLength: 128\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    name: \"category\",\n    ref: register({\n      required: true,\n      min: 2,\n      maxLength: 128\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => toggleEdit(!edit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"Cancel\"));\n};\n\nexport default StudentTicketCard;","map":{"version":3,"sources":["/Users/lambda_school_loaner_277/Desktop/coding/DevDesk-Front-End/dev/src/components/student/StudentTicketCard.js"],"names":["React","useState","axiosWithAuth","useForm","StudentTicketCard","ticket","setTickets","tickets","edit","toggleEdit","register","handleSubmit","errors","onSubmit","data","editTicket","id","console","log","updatedTicket","put","then","res","map","catch","err","deleteTicket","delete","filter","title","description","tried","category","required","min","maxLength","max"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../../utils/axiosWithAuth\";\nimport { useForm } from \"react-hook-form\";\n\nconst StudentTicketCard = ({ ticket, setTickets, tickets }) => {\n  const [edit, toggleEdit] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n  const onSubmit = (data) => editTicket(ticket.id, data);\n  console.log(errors);\n\n  const editTicket = (id, updatedTicket) => {\n    axiosWithAuth()\n      .put(`/api/tickets/${id}`, updatedTicket)\n      .then((res) => {\n        console.log(\"Ticket Editted\");\n        setTickets(\n          tickets.map((ticket) => {\n            if (ticket.id === id) return updatedTicket;\n            return ticket;\n          })\n        );\n        toggleEdit(!edit);\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to edit Ticket\");\n      });\n  };\n\n  const deleteTicket = (id) => {\n    axiosWithAuth()\n      .delete(`/api/tickets/${id}`)\n      .then((res) => {\n        console.log(\"Ticket Deleted\");\n        setTickets(tickets.filter((ticket) => ticket.id !== id));\n      })\n      .catch((err) => {\n        console.log(err, \"Failed to delete Student\");\n      });\n  };\n\n  return edit === false ? (\n    <div>\n      <h2>\n        {ticket.title} {ticket.description} {ticket.tried} {ticket.category}\n      </h2>\n      <button onClick={() => deleteTicket(ticket.id)}>Delete</button>\n      <button onClick={() => toggleEdit(!edit)}>Edit</button>\n    </div>\n  ) : (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          name=\"title\"\n          ref={register({ required: true, min: 2, maxLength: 80 })}\n        />\n        <textarea\n          name=\"description\"\n          placeholder=\"Description\"\n          ref={register({ required: true, max: 2, maxLength: 300 })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Tried\"\n          name=\"tried\"\n          ref={register({\n            required: true,\n            min: 2,\n            maxLength: 128,\n          })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Category\"\n          name=\"category\"\n          ref={register({ required: true, min: 2, maxLength: 128 })}\n        />\n\n        <input type=\"submit\" />\n      </form>\n\n      <button onClick={() => toggleEdit(!edit)}>Cancel</button>\n    </div>\n  );\n};\n\nexport default StudentTicketCard;\n"]},"metadata":{},"sourceType":"module"}